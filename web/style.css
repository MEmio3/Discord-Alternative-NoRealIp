/* ═══════════════════════════════════════════════════════
   UNIFIED HUB — STYLE.CSS
   Xbox-Futuristic Dark Theme
   Fonts: Orbitron (display) + Exo 2 (body)
═══════════════════════════════════════════════════════ */

/* ─── RESET & VARIABLES ─── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --green:       #00c853;
  --green-bright:#42ef8e;
  --green-dim:   #1a4d30;
  --green-glow:  rgba(0, 200, 83, 0.18);
  --green-hover: rgba(0, 200, 83, 0.08);

  --bg-void:     #060608;
  --bg-deep:     #0b0c0f;
  --bg-panel:    #0f1114;
  --bg-card:     #13161b;
  --bg-elevated: #181c23;
  --bg-input:    #0d0f13;

  --border:      rgba(0, 200, 83, 0.14);
  --border-hover:rgba(0, 200, 83, 0.38);

  --text-primary: #e8f5e9;
  --text-secondary:#7a9e82;
  --text-muted:   #3a5040;

  --red:          #ff4444;
  --amber:        #ffab00;

  --radius-sm:    4px;
  --radius-md:    8px;
  --radius-lg:    14px;
  --radius-xl:    20px;

  --font-display: 'Orbitron', monospace;
  --font-body:    'Exo 2', sans-serif;

  --transition:   0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

html { height: 100%; overflow: hidden; }

body {
  font-family: var(--font-body);
  background: var(--bg-void);
  color: var(--text-primary);
  height: 100vh;
  overflow: hidden;
  position: relative;
  cursor: default;
  -webkit-font-smoothing: antialiased;
}

/* ─── SCANLINES OVERLAY ─── */
.scanlines {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.06) 2px,
    rgba(0,0,0,0.06) 4px
  );
}

/* ─── AMBIENT GLOW ─── */
.ambient-glow {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 0;
  background:
    radial-gradient(ellipse 60% 40% at 10% 100%, rgba(0,200,83,0.06) 0%, transparent 60%),
    radial-gradient(ellipse 50% 35% at 90% 0%, rgba(0,200,83,0.04) 0%, transparent 55%);
}

/* ─── SCREENS ─── */
.screen {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transform: translateY(12px);
  transition: opacity 0.35s ease, transform 0.35s ease;
  z-index: 1;
  overflow: hidden;
}
.screen.active {
  opacity: 1;
  pointer-events: all;
  transform: translateY(0);
}

/* ════════════════════════════════════════════
   SETUP SCREEN
════════════════════════════════════════════ */
#screen-setup {
  display: flex;
  align-items: center;
  justify-content: center;
  background:
    radial-gradient(ellipse 80% 60% at 50% 110%, rgba(0,200,83,0.09) 0%, transparent 65%),
    var(--bg-void);
}

.setup-wrapper {
  width: 100%;
  max-width: 440px;
  padding: 24px 16px;
  display: flex;
  flex-direction: column;
  gap: 28px;
}

/* ─── LOGO BLOCK ─── */
.logo-block {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}
.logo-icon {
  width: 56px;
  height: 56px;
  filter: drop-shadow(0 0 16px rgba(0,200,83,0.6));
  animation: logo-pulse 3s ease-in-out infinite;
}
@keyframes logo-pulse {
  0%, 100% { filter: drop-shadow(0 0 12px rgba(0,200,83,0.5)); }
  50%       { filter: drop-shadow(0 0 28px rgba(0,200,83,0.9)); }
}
.logo-title {
  font-family: var(--font-display);
  font-size: 1.8rem;
  font-weight: 900;
  color: var(--green);
  letter-spacing: 0.25em;
  text-shadow: 0 0 24px rgba(0,200,83,0.5);
}
.logo-subtitle {
  font-family: var(--font-display);
  font-size: 0.55rem;
  letter-spacing: 0.4em;
  color: var(--text-secondary);
  text-transform: uppercase;
}

/* ─── CARDS ─── */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 24px;
  position: relative;
  overflow: hidden;
  transition: border-color var(--transition), box-shadow var(--transition);
}
.card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, var(--green) 50%, transparent 100%);
  opacity: 0.4;
}
.card:hover {
  border-color: var(--border-hover);
  box-shadow: 0 0 24px rgba(0,200,83,0.07);
}

.card-tag {
  font-family: var(--font-display);
  font-size: 0.52rem;
  font-weight: 700;
  letter-spacing: 0.35em;
  color: var(--green);
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.card-tag::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}

/* ─── AVATAR ─── */
.avatar-upload-zone {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  margin-bottom: 20px;
}
.avatar-ring {
  width: 88px;
  height: 88px;
  border-radius: 50%;
  border: 2px solid var(--green-dim);
  position: relative;
  overflow: hidden;
  transition: border-color var(--transition), box-shadow var(--transition);
  background: var(--bg-deep);
}
.avatar-upload-zone:hover .avatar-ring {
  border-color: var(--green);
  box-shadow: 0 0 20px rgba(0,200,83,0.3);
}
.avatar-upload-zone.small .avatar-ring {
  width: 64px;
  height: 64px;
}
.avatar-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  color: var(--green-dim);
}
.avatar-placeholder svg { width: 36px; height: 36px; }
.avatar-upload-zone.small .avatar-placeholder svg { width: 24px; height: 24px; }
.avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}
.avatar-img.hidden { display: none; }
.avatar-label {
  font-family: var(--font-display);
  font-size: 0.5rem;
  letter-spacing: 0.3em;
  color: var(--text-secondary);
  transition: color var(--transition);
}
.avatar-upload-zone:hover .avatar-label { color: var(--green); }

/* ─── FORM ELEMENTS ─── */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 14px;
}
.form-label {
  font-family: var(--font-display);
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.3em;
  color: var(--text-secondary);
}
.label-opt {
  font-family: var(--font-body);
  font-size: 0.55rem;
  letter-spacing: 0;
  color: var(--text-muted);
  text-transform: none;
}
.form-input {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 10px 14px;
  color: var(--text-primary);
  font-family: var(--font-body);
  font-size: 0.85rem;
  transition: border-color var(--transition), box-shadow var(--transition);
  outline: none;
  width: 100%;
  appearance: none;
}
select.form-input {
  appearance: auto;
  cursor: pointer;
  padding-right: 24px;
}
select.form-input option {
  background: var(--bg-elevated);
  color: var(--text-primary);
}
.form-input::placeholder { color: var(--text-muted); }
.form-input:focus {
  border-color: var(--green);
  box-shadow: 0 0 0 3px rgba(0,200,83,0.1), inset 0 0 0 1px rgba(0,200,83,0.08);
}
.form-textarea {
  resize: vertical;
  min-height: 72px;
  max-height: 140px;
  line-height: 1.5;
}

/* ─── BUTTONS ─── */
.btn {
  font-family: var(--font-display);
  font-size: 0.62rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  border: none;
  border-radius: var(--radius-sm);
  padding: 12px 24px;
  cursor: pointer;
  transition: all var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  position: relative;
  overflow: hidden;
}
.btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: white;
  opacity: 0;
  transition: opacity 0.15s;
}
.btn:active::after { opacity: 0.06; }
.btn-icon { font-size: 0.8rem; }

.btn-primary {
  background: var(--green);
  color: #000;
  box-shadow: 0 0 20px rgba(0,200,83,0.25);
}
.btn-primary:hover {
  background: var(--green-bright);
  box-shadow: 0 0 32px rgba(0,200,83,0.45);
  transform: translateY(-1px);
}
.btn-primary:active { transform: translateY(0); }

.btn-outline {
  background: transparent;
  color: var(--green);
  border: 1px solid var(--green);
  box-shadow: inset 0 0 0 0 var(--green);
}
.btn-outline:hover {
  background: var(--green-hover);
  box-shadow: 0 0 20px rgba(0,200,83,0.2);
  transform: translateY(-1px);
}

.btn-full { width: 100%; margin-top: 4px; }

/* ─── ICON BUTTON ─── */
.icon-btn {
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
}
.icon-btn svg { width: 18px; height: 18px; }
.icon-btn:hover {
  border-color: var(--green);
  color: var(--green);
  background: var(--green-hover);
}

/* ════════════════════════════════════════════
   HOME SCREEN
════════════════════════════════════════════ */
#screen-home {
  display: flex;
  flex-direction: column;
  background: var(--bg-void);
}

/* ─── TOPBAR ─── */
.topbar {
  height: 56px;
  background: var(--bg-panel);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  padding: 0 20px;
  gap: 24px;
  flex-shrink: 0;
  position: relative;
  z-index: 10;
}
.topbar::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--green) 30%, var(--green) 70%, transparent);
  opacity: 0.3;
}
.topbar-left {
  display: flex;
  align-items: center;
  gap: 10px;
}
.topbar-logo { width: 28px; height: 28px; filter: drop-shadow(0 0 8px rgba(0,200,83,0.6)); }
.topbar-title {
  font-family: var(--font-display);
  font-size: 0.7rem;
  font-weight: 900;
  letter-spacing: 0.25em;
  color: var(--green);
}
.topbar-nav {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 4px;
  justify-content: center;
}
.nav-tab {
  font-family: var(--font-display);
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  background: transparent;
  border: none;
  color: var(--text-muted);
  padding: 8px 16px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition);
  position: relative;
}
.nav-tab::after {
  content: '';
  position: absolute;
  bottom: 0; left: 50%; right: 50%;
  height: 2px;
  background: var(--green);
  transition: left var(--transition), right var(--transition);
  border-radius: 2px;
}
.nav-tab.active { color: var(--green); }
.nav-tab.active::after { left: 12px; right: 12px; }
.nav-tab:hover:not(.active) { color: var(--text-secondary); background: var(--green-hover); }

.topbar-right { display: flex; align-items: center; gap: 12px; }
.topbar-user {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  background: var(--bg-deep);
  cursor: pointer;
  transition: border-color var(--transition);
}
.topbar-user:hover { border-color: var(--border-hover); }
.topbar-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--green-dim);
  border: 1px solid var(--green);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 0.55rem;
  font-weight: 700;
  color: var(--green);
  overflow: hidden;
  flex-shrink: 0;
}
.topbar-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.topbar-nick {
  font-family: var(--font-display);
  font-size: 0.55rem;
  letter-spacing: 0.1em;
  color: var(--text-primary);
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--green);
  box-shadow: 0 0 8px var(--green);
  animation: status-blink 2.5s ease-in-out infinite;
  flex-shrink: 0;
}
@keyframes status-blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.5; }
}

/* ─── HOME BODY ─── */
.home-body {
  flex: 1;
  overflow: hidden;
  padding: 24px;
  display: flex;
  flex-direction: column;
}

.panel {
  display: none;
  flex-direction: column;
  height: 100%;
  overflow-y: auto;
  animation: fade-in 0.25s ease;
}
.panel.active { display: flex; }
@keyframes fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Custom scrollbar */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--green-dim); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--green); }

/* ─── PANEL GRID ─── */
.panel-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 300px;
  gap: 16px;
  align-items: start;
}
@media (max-width: 1100px) { .panel-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 700px)  { .panel-grid { grid-template-columns: 1fr; } }

/* ─── ACTION CARDS ─── */
.action-card { display: flex; flex-direction: column; gap: 2px; }
.action-icon {
  width: 52px;
  height: 52px;
  border-radius: var(--radius-md);
  background: rgba(0,200,83,0.06);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
}
.action-icon svg { width: 28px; height: 28px; }
.action-title {
  font-family: var(--font-display);
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: 0.1em;
  margin-bottom: 4px;
}
.action-desc {
  font-size: 0.78rem;
  color: var(--text-secondary);
  line-height: 1.5;
  margin-bottom: 16px;
}

/* ─── INFO CARD ─── */
.info-card { display: flex; flex-direction: column; }

/* ─── RECENT LIST ─── */
.recent-list { display: flex; flex-direction: column; gap: 8px; flex: 1; }
.empty-hint {
  font-size: 0.75rem;
  color: var(--text-muted);
  text-align: center;
  padding: 12px;
}
.recent-item {
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: all var(--transition);
}
.recent-item:hover {
  border-color: var(--green);
  background: var(--green-hover);
}
.recent-item-info { flex: 1; overflow: hidden; }
.recent-item-name {
  font-family: var(--font-display);
  font-size: 0.62rem;
  color: var(--text-primary);
  letter-spacing: 0.08em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.recent-item-meta { font-size: 0.65rem; color: var(--text-muted); margin-top: 2px; }
.recent-item-btn {
  font-family: var(--font-display);
  font-size: 0.45rem;
  letter-spacing: 0.15em;
  color: var(--green);
  background: transparent;
  border: 1px solid var(--green-dim);
  border-radius: var(--radius-sm);
  padding: 4px 8px;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
}
.recent-item-btn:hover { border-color: var(--green); background: var(--green-hover); }

/* ─── PROFILE EDIT ─── */
.profile-edit-wrap {
  display: grid;
  grid-template-columns: 480px 1fr;
  gap: 16px;
  align-items: start;
}
@media (max-width: 900px) { .profile-edit-wrap { grid-template-columns: 1fr; } }

.profile-edit-avatar-wrap {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border);
}
.profile-uid-block {}
.uid-label {
  font-family: var(--font-display);
  font-size: 0.45rem;
  letter-spacing: 0.3em;
  color: var(--text-muted);
  margin-bottom: 4px;
}
.uid-val {
  font-family: monospace;
  font-size: 0.62rem;
  color: var(--text-secondary);
  word-break: break-all;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 4px 8px;
  max-width: 220px;
}

/* ─── STAT CARD ─── */
.stat-card {}
.stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
}
.stat-row:last-child { border-bottom: none; }
.stat-key {
  font-family: var(--font-display);
  font-size: 0.52rem;
  letter-spacing: 0.15em;
  color: var(--text-muted);
}
.stat-val {
  font-family: var(--font-display);
  font-size: 0.65rem;
  font-weight: 700;
  color: var(--text-primary);
}
.green-text { color: var(--green) !important; }

/* ─── SAVED LIST ─── */
.full-card { height: 100%; }
.saved-list { display: flex; flex-direction: column; gap: 8px; flex: 1; }
.saved-item {
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all var(--transition);
}
.saved-item:hover { border-color: var(--border-hover); }
.saved-item-body { flex: 1; overflow: hidden; }
.saved-item-name {
  font-family: var(--font-display);
  font-size: 0.65rem;
  color: var(--text-primary);
  letter-spacing: 0.1em;
}
.saved-item-meta { font-size: 0.68rem; color: var(--text-secondary); margin-top: 3px; }
.saved-item-actions { display: flex; gap: 8px; }

/* ─── EMPTY STATE ─── */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 48px 24px;
  color: var(--text-muted);
  text-align: center;
}
.empty-state svg { width: 64px; height: 64px; }
.empty-state p { font-size: 0.85rem; }
.empty-state .sub { font-size: 0.72rem; }

/* ─── TOAST ─── */
.toast {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%) translateY(80px);
  background: var(--bg-elevated);
  border: 1px solid var(--green);
  border-radius: var(--radius-md);
  padding: 12px 24px;
  font-family: var(--font-display);
  font-size: 0.6rem;
  letter-spacing: 0.15em;
  color: var(--green);
  box-shadow: 0 0 24px rgba(0,200,83,0.2);
  transition: transform 0.3s ease, opacity 0.3s ease;
  z-index: 10000;
  white-space: nowrap;
}
.toast.hidden { opacity: 0; pointer-events: none; }
.toast.show {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}
.toast.error {
  border-color: var(--red);
  color: var(--red);
  box-shadow: 0 0 24px rgba(255,68,68,0.2);
}

/* ════════════════════════════════════════════
   ROOM SCREEN
════════════════════════════════════════════ */
#screen-room {
  display: flex;
  flex-direction: column;
  background: var(--bg-void);
}

/* ─── ROOM TOPBAR ─── */
.room-topbar {
  height: 52px;
  background: var(--bg-panel);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 16px;
  flex-shrink: 0;
  position: relative;
  z-index: 20;
}
.room-topbar::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--green) 30%, var(--green) 70%, transparent);
  opacity: 0.25;
}
.room-topbar-left { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.room-info { display: flex; flex-direction: column; gap: 1px; }
.room-name-display {
  font-family: var(--font-display);
  font-size: 0.65rem;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: 0.12em;
}
.room-code-display {
  font-family: monospace;
  font-size: 0.58rem;
  color: var(--text-muted);
  letter-spacing: 0.1em;
}
.room-code-display strong { color: var(--text-secondary); }

.room-topbar-center { flex: 1; display: flex; justify-content: center; }
.connection-status {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-display);
  font-size: 0.5rem;
  letter-spacing: 0.2em;
  color: var(--text-secondary);
}
.status-pulse {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--amber);
  box-shadow: 0 0 8px var(--amber);
  animation: status-blink 1.2s ease-in-out infinite;
}
.connection-status.connected .status-pulse { background: var(--green); box-shadow: 0 0 8px var(--green); }
.connection-status.connected #connectionLabel { color: var(--green); }

.room-topbar-right { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }

/* ─── MEDIA BUTTONS ─── */
.media-btn {
  width: 38px;
  height: 38px;
  border-radius: var(--radius-sm);
  background: var(--bg-deep);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition);
  position: relative;
}
.media-btn svg { width: 16px; height: 16px; }
.media-btn:hover {
  border-color: var(--green);
  color: var(--green);
  background: var(--green-hover);
}
.media-btn.active {
  background: rgba(0,200,83,0.12);
  border-color: var(--green);
  color: var(--green);
  box-shadow: 0 0 12px rgba(0,200,83,0.2);
}
.media-btn.muted, .media-btn.deafened {
  background: rgba(255,68,68,0.08);
  border-color: var(--red);
  color: var(--red);
}
.media-btn.live {
  background: rgba(0,200,83,0.14);
  border-color: var(--green);
  color: var(--green);
  box-shadow: 0 0 16px rgba(0,200,83,0.35);
}
.media-btn.live::after {
  content: 'LIVE';
  position: absolute;
  top: -8px; right: -8px;
  background: var(--red);
  color: #fff;
  font-family: var(--font-display);
  font-size: 0.32rem;
  letter-spacing: 0.1em;
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 700;
}
.media-btn.host-only { display: none; }

/* ─── ROOM BODY ─── */
.room-body {
  flex: 1;
  display: flex;
  overflow: hidden;
}

/* ─── SIDEBAR ─── */
.sidebar {
  width: 200px;
  flex-shrink: 0;
  background: var(--bg-panel);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}
.sidebar-section { padding: 14px 12px; }
.sidebar-heading {
  font-family: var(--font-display);
  font-size: 0.48rem;
  font-weight: 700;
  letter-spacing: 0.3em;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 10px;
}
.count-badge {
  background: var(--green-dim);
  color: var(--green);
  border-radius: 10px;
  padding: 1px 6px;
  font-size: 0.55rem;
  font-weight: 700;
}

/* ─── USER LIST ─── */
.user-list { display: flex; flex-direction: column; gap: 4px; }
.user-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 7px 8px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background var(--transition);
  position: relative;
  overflow: hidden;
}
.user-item:hover { background: var(--green-hover); }
.user-item::before {
  content: '';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 2px;
  background: transparent;
  transition: background var(--transition);
}
.user-item.speaking::before { background: var(--green); box-shadow: 0 0 8px var(--green); }
.user-item.is-host::before { background: var(--amber); }
.user-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--green-dim);
  border: 1px solid var(--green-dim);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 0.52rem;
  font-weight: 700;
  color: var(--green);
  overflow: hidden;
  flex-shrink: 0;
  transition: border-color var(--transition);
}
.user-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.user-item.speaking .user-avatar {
  border-color: var(--green);
  box-shadow: 0 0 8px rgba(0,200,83,0.4);
}
.user-nick {
  font-family: var(--font-display);
  font-size: 0.58rem;
  color: var(--text-primary);
  letter-spacing: 0.05em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.user-badge {
  font-family: var(--font-display);
  font-size: 0.38rem;
  letter-spacing: 0.1em;
  color: var(--amber);
  background: rgba(255,171,0,0.1);
  border: 1px solid rgba(255,171,0,0.25);
  border-radius: 3px;
  padding: 1px 4px;
  margin-left: auto;
  flex-shrink: 0;
}

/* ─── CHAT SECTION ─── */
.chat-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--bg-deep);
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 20px 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* ─── MESSAGE BUBBLES ─── */
.msg-group {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  animation: msg-enter 0.2s ease;
}
@keyframes msg-enter {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
.msg-group.own { flex-direction: row-reverse; }
.msg-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--green-dim);
  border: 1px solid var(--green-dim);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 0.55rem;
  font-weight: 700;
  color: var(--green);
  overflow: hidden;
  flex-shrink: 0;
}
.msg-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.msg-content { max-width: 65%; display: flex; flex-direction: column; gap: 3px; }
.msg-group.own .msg-content { align-items: flex-end; }
.msg-header {
  display: flex;
  align-items: baseline;
  gap: 8px;
  flex-wrap: wrap;
}
.msg-group.own .msg-header { flex-direction: row-reverse; }
.msg-nick {
  font-family: var(--font-display);
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  color: var(--green);
}
.msg-time {
  font-size: 0.6rem;
  color: var(--text-muted);
}
.msg-bubble {
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: 0 var(--radius-md) var(--radius-md) var(--radius-md);
  padding: 10px 14px;
  font-size: 0.82rem;
  line-height: 1.5;
  color: var(--text-primary);
  word-break: break-word;
  position: relative;
}
.msg-group.own .msg-bubble {
  background: rgba(0,200,83,0.08);
  border-color: rgba(0,200,83,0.25);
  border-radius: var(--radius-md) 0 var(--radius-md) var(--radius-md);
  color: var(--green-bright);
}

/* System messages */
.msg-system {
  text-align: center;
  font-family: var(--font-display);
  font-size: 0.52rem;
  letter-spacing: 0.15em;
  color: var(--text-muted);
  padding: 4px 12px;
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
}
.msg-system::before, .msg-system::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}

/* ─── IMAGE & FILE IN CHAT ─── */
.msg-image {
  max-width: 260px;
  max-height: 180px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  object-fit: cover;
  cursor: pointer;
  transition: border-color var(--transition);
}
.msg-image:hover { border-color: var(--green); }
.msg-file {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 10px 14px;
  cursor: pointer;
  transition: border-color var(--transition);
  text-decoration: none;
  color: var(--text-primary);
}
.msg-file:hover { border-color: var(--green); }
.msg-file-icon { font-size: 1.2rem; }
.msg-file-name {
  font-family: var(--font-display);
  font-size: 0.58rem;
  letter-spacing: 0.05em;
}

/* ─── CHAT INPUT BAR ─── */
.chat-input-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 14px;
  background: var(--bg-panel);
  border-top: 1px solid var(--border);
  flex-shrink: 0;
}
.attach-btn {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
}
.attach-btn svg { width: 16px; height: 16px; }
.attach-btn:hover { border-color: var(--green); color: var(--green); background: var(--green-hover); }

.chat-text-input {
  flex: 1;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 9px 14px;
  color: var(--text-primary);
  font-family: var(--font-body);
  font-size: 0.85rem;
  outline: none;
  transition: border-color var(--transition);
  min-width: 0;
}
.chat-text-input::placeholder { color: var(--text-muted); }
.chat-text-input:focus { border-color: var(--green); }

.send-btn {
  width: 40px;
  height: 36px;
  border-radius: var(--radius-sm);
  background: var(--green);
  border: none;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
  box-shadow: 0 0 12px rgba(0,200,83,0.3);
}
.send-btn svg { width: 15px; height: 15px; }
.send-btn:hover {
  background: var(--green-bright);
  box-shadow: 0 0 20px rgba(0,200,83,0.5);
  transform: scale(1.05);
}
.send-btn:active { transform: scale(0.98); }

/* ─── ADMIN PANEL ─── */
.admin-panel {
  width: 200px;
  flex-shrink: 0;
  background: var(--bg-panel);
  border-left: 1px solid var(--border);
  overflow-y: auto;
}
.admin-panel.hidden { display: none; }
.admin-info { margin-bottom: 12px; }
.admin-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid var(--border);
}
.admin-key {
  font-family: var(--font-display);
  font-size: 0.44rem;
  letter-spacing: 0.15em;
  color: var(--text-muted);
}
.admin-val {
  font-family: monospace;
  font-size: 0.6rem;
  color: var(--text-secondary);
}
.ban-list { display: flex; flex-direction: column; gap: 6px; }
.ban-item {
  background: rgba(255,68,68,0.06);
  border: 1px solid rgba(255,68,68,0.2);
  border-radius: var(--radius-sm);
  padding: 7px 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.ban-nick {
  font-family: var(--font-display);
  font-size: 0.54rem;
  color: var(--red);
  letter-spacing: 0.05em;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.ban-unban-btn {
  font-family: var(--font-display);
  font-size: 0.4rem;
  letter-spacing: 0.1em;
  color: var(--green);
  background: transparent;
  border: 1px solid var(--green-dim);
  border-radius: 3px;
  padding: 2px 6px;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
}
.ban-unban-btn:hover { border-color: var(--green); background: var(--green-hover); }

/* ─── CONTEXT MENU ─── */
.context-menu {
  position: fixed;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 6px;
  min-width: 160px;
  z-index: 9000;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 20px rgba(0,200,83,0.08);
  animation: fade-in 0.15s ease;
}
.context-menu.hidden { display: none; }
.context-item {
  padding: 9px 14px;
  font-family: var(--font-display);
  font-size: 0.55rem;
  letter-spacing: 0.12em;
  color: var(--text-primary);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition);
}
.context-item:hover { background: var(--green-hover); color: var(--green); }
.context-item.danger { color: var(--red); }
.context-item.danger:hover { background: rgba(255,68,68,0.08); }

/* ─── PROFILE MODAL ─── */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  backdrop-filter: blur(6px);
  z-index: 8000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fade-in 0.2s ease;
}
.modal-overlay.hidden { display: none; }
.modal-box {
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 28px;
  width: 320px;
  position: relative;
  animation: modal-enter 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 0 60px rgba(0,200,83,0.12);
}
@keyframes modal-enter {
  from { transform: scale(0.92); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}
.modal-box::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--green) 50%, transparent);
  opacity: 0.6;
  border-radius: var(--radius-xl) var(--radius-xl) 0 0;
}
.modal-tag {
  font-family: var(--font-display);
  font-size: 0.52rem;
  letter-spacing: 0.35em;
  color: var(--green);
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.modal-tag::after { content: ''; flex:1; height: 1px; background: var(--border); }
.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  cursor: pointer;
  font-size: 0.7rem;
  transition: all var(--transition);
}
.modal-close:hover { border-color: var(--red); color: var(--red); }
.modal-avatar-wrap { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }
.modal-avatar {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: var(--green-dim);
  border: 2px solid var(--green);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-display);
  font-size: 1rem;
  font-weight: 700;
  color: var(--green);
  overflow: hidden;
  flex-shrink: 0;
  box-shadow: 0 0 20px rgba(0,200,83,0.3);
}
.modal-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.modal-nick {
  font-family: var(--font-display);
  font-size: 0.9rem;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: 0.1em;
}
.modal-uid {
  font-family: monospace;
  font-size: 0.6rem;
  color: var(--text-muted);
  margin-top: 4px;
  word-break: break-all;
}
.modal-bio {
  font-size: 0.78rem;
  color: var(--text-secondary);
  line-height: 1.6;
  padding: 12px 0;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  margin-bottom: 12px;
}
.modal-status {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-display);
  font-size: 0.5rem;
  letter-spacing: 0.15em;
  color: var(--green);
}

/* ─── SCROLLABLE PANELS OVERFLOW ─── */
.home-body { overflow-y: auto; }

/* ─── HIDDEN UTILITY ─── */
.hidden { display: none !important; }